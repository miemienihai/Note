+ 在uinty3D开发人物移动包括运动上的和方向上的移动
+ 注意不必要位移上面的限制
+ 当我们在书写OnAnimatorMove默认关闭bake into pose选项,书写他的时候代表我们会将动画运动算进去也就是肢体运动,所以你以后书写移动离不开他.
```C#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class LenmonController : MonoBehaviour
{
    /// <summary>
    /// 获取输入 ,然后设置动画, 最后 在动画组件中更新位置.
    /// </summary>
    // Start is called before the first frame update
    Vector3 M_Movement;
    Vector3 _disredForward;
    Animator A_animator;
    Rigidbody R_rigidbody;
    float _herizongtal;
    float _vertical;
    Quaternion M_rotation = Quaternion.identity;
    public float _turnSpeed = 20.0f;

    void Start()
    {
        R_rigidbody = GetComponent<Rigidbody>();
        A_animator = GetComponent<Animator>();
    }

    // Update is called once per frame
    void FixedUpdate()
    {
        // 关于3D 物体运动是采用Vector3来表示的.
        _herizongtal = Input.GetAxis("Horizontal");
        _vertical = Input.GetAxis("Vertical");
        bool _isWalking = (!Mathf.Approximately(_herizongtal, 0.0f) || !Mathf.Approximately(_vertical, 0.0f));

        // 用于移动
        A_animator.SetBool("IsWalking", _isWalking);
        M_Movement.Set(_herizongtal, 0.0f, _vertical);
        M_Movement.Normalize();

        //旋转 首先构建 移动以后 看向的方向 ,通过 移动距离来实现 , 通过他构建四元函数 代表旋转的方向 ,我们利用四元来构建旋转.
        _disredForward = Vector3.RotateTowards(transform.forward, M_Movement, _turnSpeed * Time.deltaTime, 0f);
        M_rotation = Quaternion.LookRotation(_disredForward);
    }
    //这个函数 跟我们前面知识紧密关联,他是在我们勾选bake into pose时才会调用,用于处理动画移动以修改根运动的回调,按照这样的描述,就更bake into pose 紧密相关
    // 该回调在处理完状态机和动画后 （但在 OnAnimatorIK 之前）的每个帧中调用,重点每个帧中去调用,也就是动画本身postion移动,都会调用它.
    // 为什么移动写在这里,动画本身有个移动,然后我们输入也有一个移动,一起在同一个地方调用,有利用规范.
    private void OnAnimatorMove()
    {
        // 这里我们窥探 物体动画和输入移动的根本, 利用键鼠移动的向量为方向 动画移动为辅助 deltaPosition 动画移动距离 magnitude 向量长度计算.
        R_rigidbody.MovePosition(R_rigidbody.position + M_Movement * A_animator.deltaPosition.magnitude);

        R_rigidbody.MoveRotation(M_rotation);


    }



}

```